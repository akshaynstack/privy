# Privy Fraud Detection API - Environment Configuration Template
# Copy this file to .env and update the values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="Privy Fraud Detection API"
VERSION="1.0.0"
ENVIRONMENT=development  # development, testing, production
DEBUG=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Primary database URL (async)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/privy

# Sync database URL (for Celery workers and migrations)
DATABASE_URL_SYNC=postgresql+psycopg://postgres:postgres@localhost:5432/privy

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Format: redis://[username]:[password]@host:port[/database]
# For password-only auth: redis://:password@host:port
# For no auth: redis://host:port
REDIS_URL=redis://:your-redis-password@your-redis-host:6379

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
# Use different Redis databases for broker and backend
CELERY_BROKER=redis://:your-redis-password@your-redis-host:6379/0
CELERY_BACKEND=redis://:your-redis-password@your-redis-host:6379/1

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# IMPORTANT: Change this in production! Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-this-in-production

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# RATE LIMITING DEFAULTS
# =============================================================================
DEFAULT_RATE_LIMIT=1.0    # requests per second
DEFAULT_RATE_CAPACITY=60  # max burst tokens

# =============================================================================
# EXTERNAL DATA SOURCES
# =============================================================================
# URL for disposable email domains list
DISPOSABLE_EMAIL_URL=https://raw.githubusercontent.com/disposable/disposable-email-domains/master/domains.txt

# MaxMind GeoLite2 License Key (free account required)
# Get from: https://www.maxmind.com/en/accounts/current/license-key
MAXMIND_LICENSE_KEY=your_maxmind_license_key_here

# MaxMind database path (optional, defaults to data/maxmind)
# MAXMIND_DB_PATH=/custom/path/to/maxmind/databases

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_ANALYTICS=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_CUSTOM_BLACKLISTS=true

# =============================================================================
# PRODUCTION-SPECIFIC SETTINGS
# =============================================================================
# Only needed for production deployments

# SSL/TLS Configuration
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# External Services (if using managed services)
# POSTGRES_HOST=your-postgres-host
# POSTGRES_PORT=5432
# POSTGRES_USER=your-user
# POSTGRES_PASSWORD=your-password
# POSTGRES_DB=privy

# REDIS_HOST=your-redis-host  
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# Monitoring and Observability
# SENTRY_DSN=https://your-sentry-dsn
# DATADOG_API_KEY=your-datadog-key

# =============================================================================
# DOCKER-SPECIFIC OVERRIDES
# =============================================================================
# These are automatically set when using docker-compose
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/privy
# DATABASE_URL_SYNC=postgresql://postgres:postgres@db:5432/privy
# REDIS_URL=redis://redis:6379